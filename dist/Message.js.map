{"version":3,"sources":["../src/Message.ts"],"names":["Message","constructor","accountId","contactUri","fromUri","toUri","body","contentType","fromNumber","fromName","match","_accountId","_contactUri","_fromUri","_fromName","_fromNumber","_toUri","_body","_contentType","getAccountId","getContactUri","getFromUri","getFromName","getFromNumber","getToUri","getBody","getContentType"],"mappings":"AASA;AACA;AACA;AACA,eAAe,MAAMA,OAAN,CAAc;AAWzBC,EAAAA,WAAW,CAAC;AACRC,IAAAA,SADQ;AAERC,IAAAA,UAFQ;AAGRC,IAAAA,OAHQ;AAIRC,IAAAA,KAJQ;AAKRC,IAAAA,IALQ;AAMRC,IAAAA;AANQ,GAAD,EAOK;AACZ,QAAIC,UAAU,GAAG,IAAjB;AACA,QAAIC,QAAQ,GAAG,IAAf;;AAEA,QAAIL,OAAJ,EAAa;AACT,UAAIM,KAAK,GAAGN,OAAO,CAACM,KAAR,CAAc,yBAAd,CAAZ;;AAEA,UAAIA,KAAJ,EAAW;AACPD,QAAAA,QAAQ,GAAGC,KAAK,CAAC,CAAD,CAAhB;AACAF,QAAAA,UAAU,GAAGE,KAAK,CAAC,CAAD,CAAlB;AACH,OAHD,MAGO;AACHA,QAAAA,KAAK,GAAGN,OAAO,CAACM,KAAR,CAAc,cAAd,CAAR;;AAEA,YAAIA,KAAJ,EAAW;AACPF,UAAAA,UAAU,GAAGE,KAAK,CAAC,CAAD,CAAlB;AACH;AACJ;AACJ;;AAED,SAAKC,UAAL,GAAkBT,SAAlB;AACA,SAAKU,WAAL,GAAmBT,UAAnB;AACA,SAAKU,QAAL,GAAgBT,OAAhB;AACA,SAAKU,SAAL,GAAiBL,QAAjB;AACA,SAAKM,WAAL,GAAmBP,UAAnB;AACA,SAAKQ,MAAL,GAAcX,KAAd;AACA,SAAKY,KAAL,GAAaX,IAAb;AACA,SAAKY,YAAL,GAAoBX,WAApB;AACH;AAED;AACJ;AACA;AACA;;;AACIY,EAAAA,YAAY,GAAW;AACnB,WAAO,KAAKR,UAAZ;AACH;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,aAAa,GAAW;AACpB,WAAO,KAAKR,WAAZ;AACH;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,UAAU,GAAW;AACjB,WAAO,KAAKR,QAAZ;AACH;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,WAAW,GAAW;AAClB,WAAO,KAAKR,SAAZ;AACH;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,aAAa,GAAW;AACpB,WAAO,KAAKR,WAAZ;AACH;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,QAAQ,GAAW;AACf,WAAO,KAAKR,MAAZ;AACH;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,OAAO,GAAW;AACd,WAAO,KAAKR,KAAZ;AACH;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,cAAc,GAAW;AACrB,WAAO,KAAKR,YAAZ;AACH;;AA7GwB","sourcesContent":["export type MessageData = {\n    accountId: number,\n    contactUri: string,\n    fromUri: string,\n    toUri: string,\n    body: string,\n    contentType: string,\n}\n\n/**\n * This class describes the information and current status of a call.\n */\nexport default class Message {\n\n    _accountId: number;\n    _contactUri: string;\n    _fromUri: string;\n    _fromName: string;\n    _fromNumber: string;\n    _toUri: string;\n    _body: string;\n    _contentType: string;\n\n    constructor({\n        accountId,\n        contactUri,\n        fromUri,\n        toUri,\n        body,\n        contentType\n    }: MessageData) {\n        let fromNumber = null;\n        let fromName = null;\n\n        if (fromUri) {\n            let match = fromUri.match(/\"([^\"]+)\" <sip:([^@]+)@/);\n\n            if (match) {\n                fromName = match[1];\n                fromNumber = match[2];\n            } else {\n                match = fromUri.match(/sip:([^@]+)@/);\n\n                if (match) {\n                    fromNumber = match[1];\n                }\n            }\n        }\n\n        this._accountId = accountId;\n        this._contactUri = contactUri;\n        this._fromUri = fromUri;\n        this._fromName = fromName;\n        this._fromNumber = fromNumber;\n        this._toUri = toUri;\n        this._body = body;\n        this._contentType = contentType;\n    }\n\n    /**\n     * The account ID where this message belongs.\n     * @returns {int}\n     */\n    getAccountId(): number {\n        return this._accountId;\n    }\n\n    /**\n     * The Contact URI of the sender, if present.\n     * @returns {String}\n     */\n    getContactUri(): string {\n        return this._contactUri;\n    }\n\n    /**\n     * URI of the sender.\n     * @returns {String}\n     */\n    getFromUri(): string {\n        return this._fromUri;\n    }\n\n    /**\n     * Sender name, or NULL if no name specified in URI.\n     * @returns {String}\n     */\n    getFromName(): string {\n        return this._fromName;\n    }\n\n    /**\n     * Sender number\n     * @returns {String}\n     */\n    getFromNumber(): string {\n        return this._fromNumber;\n    }\n\n    /**\n     * URI of the destination message.\n     * @returns {String}\n     */\n    getToUri(): string {\n        return this._toUri;\n    }\n\n    /**\n     * Message body, or NULL if no message body is attached to this mesage.\n     * @returns {String}\n     */\n    getBody(): string {\n        return this._body;\n    }\n\n    /**\n     * MIME type of the message.\n     * @returns {String}\n     */\n    getContentType(): string {\n        return this._contentType;\n    }\n\n}"],"file":"Message.js"}